<h1><code ng:non-bindable="">NewtonAdapter</code>
<div><span class="hint"></span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="newtonadapter-page"><p>Adapter for Newton sdk to be used in B! web applications</p>
</div></div>
<div class="member method"><h2 id="methods">Methods</h2>
<ul class="methods"><li><h3 id="methods_addidentity">addIdentity(options)</h3>
<div class="addidentity"><div class="addidentity-page"><p>Add identity to an user<br>
<b>This method is executed after login (waitLogin:true) or after init (false)</b></p>
</div><h5 id="methods_addidentity_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>options</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="addidentity-page"><p>configuration object</p>
</div><table><thead><tr><th>Property</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>type</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="addidentity-page"><p>type of identity to add (oauth, email, generic)</p>
</div> <p><em>(default: 'oauth')</em></p></td></tr><tr><td>provider</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="addidentity-page"><p>provider of identity to add (oauth)</p>
</div></td></tr><tr><td>access_token</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="addidentity-page"><p>access token of identity to add (oauth)</p>
</div></td></tr><tr><td>email</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="addidentity-page"><p>email of identity to add (email)</p>
</div></td></tr><tr><td>password</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="addidentity-page"><p>password of identity to add (email)</p>
</div></td></tr><tr><td>params</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="addidentity-page"><p>params of identity to add (email)</p>
</div> <p><em>(default: {})</em></p></td></tr><tr><td>smsTemplate</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="addidentity-page"><p>SMS template of identity to add (generic)</p>
</div></td></tr></tbody></table></td></tr></tbody></table><h5 id="methods_addidentity_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="addidentity-page"><p>ppromise will be resolved when adding is completed, rejected if failed</p>
</div></td></tr></table><h4 id="methods_addidentity_example">Example</h4>
<div class="example"><div class="addidentity-page"><pre class="prettyprint linenums">
NewtonAdapter.addIdentity({
    type: 'oauth',
    provider: 'Facebook',
    access_token: '1234567890'
}).then(function(){
    console.log('addIdentity success');
}).catch(function(err){
    console.log('addIdentity failed', err);
});
</pre>
</div></div>
</div>
</li>
<li><h3 id="methods_autologin">autoLogin(options)</h3>
<div class="autologin"><div class="autologin-page"><p>start autoLogin flow</p>
</div><h5 id="methods_autologin_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>options</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="autologin-page"><p>configuration object</p>
</div><table><thead><tr><th>Property</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>waitingUrl</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="autologin-page"><p>url for waiting page</p>
</div></td></tr><tr><td>subscribeUrl</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="autologin-page"><p>url for account page (redirect here if user isn&#39;t subscribed)</p>
</div></td></tr></tbody></table></td></tr></tbody></table><h4 id="methods_autologin_example">Example</h4>
<div class="example"><div class="autologin-page"><pre class="prettyprint linenums">
NewtonAdapter.autoLogin({
  "waitingUrl":"http://www.domain.com/#!/waiting",
        "subscribeUrl":"http://www.domain.com/#!/settings"
});
</pre>
</div></div>
</div>
</li>
<li><h3 id="methods_confirmemail">confirmEmail(options)</h3>
<div class="confirmemail"><div class="confirmemail-page"><p>Confirm email identity without logging user</p>
</div><h5 id="methods_confirmemail_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>options</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="confirmemail-page"><p>configuration object</p>
</div></td></tr></tbody></table><h5 id="methods_confirmemail_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="confirmemail-page"><p>promise that will be resolved when the confirmEmail has been completed, rejected if failed</p>
</div></td></tr></table><h4 id="methods_confirmemail_example">Example</h4>
<div class="example"><div class="confirmemail-page"><pre class="prettyprint linenums">
NewtonAdapter.confirmEmail({
    token: 'nets:ff6ad467df62a58324b9:ifortune'
}).then(function(){
    console.log('confirmEmail success');
}).catch(function(err){
    console.log('confirmEmail failed', err);
});
</pre>
</div></div>
</div>
</li>
<li><h3 id="methods_confirmemailandlogin">confirmEmailAndLogin(options)</h3>
<div class="confirmemailandlogin"><div class="confirmemailandlogin-page"><p>Confirm email flow and login to the service</p>
</div><h5 id="methods_confirmemailandlogin_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>options</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="confirmemailandlogin-page"><p>configuration object</p>
</div><table><thead><tr><th>Property</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>token</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="confirmemailandlogin-page"><p>token to confirm email</p>
</div></td></tr><tr><td>properties</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="confirmemailandlogin-page"><p>properties of the timed event</p>
</div> <p><em>(default: {})</em></p></td></tr></tbody></table></td></tr></tbody></table><h5 id="methods_confirmemailandlogin_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="confirmemailandlogin-page"><p>promise will be resolved when stop is completed, rejected if failed</p>
</div></td></tr></table><h4 id="methods_confirmemailandlogin_example">Example</h4>
<div class="example"><div class="confirmemailandlogin-page"><pre class="prettyprint linenums">
NewtonAdapter.confirmEmailAndLogin({
    token: '123456'
}).then(function(){
    console.log('confirmEmailAndLogin success');
}).catch(function(err){
    console.log('confirmEmailAndLogin failed', err);
});
</pre>
</div></div>
</div>
</li>
<li><h3 id="methods_finalizeloginflow">finalizeLoginFlow(callback)</h3>
<div class="finalizeloginflow"><div class="finalizeloginflow-page"><p>Execute callback when finalize login flow
<br><b>Synchronous call, don&#39;t wait init</b></p>
</div><h5 id="methods_finalizeloginflow_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>callback</td><td><a href="" class="label type-hint type-hint-function">function</a></td><td><div class="finalizeloginflow-page"><p>method called when finalize login flow</p>
</div></td></tr></tbody></table><h5 id="methods_finalizeloginflow_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="finalizeloginflow-page"><p>return true if init has been called before, false if init has not been called before or callback is undefined</p>
</div></td></tr></table><h4 id="methods_finalizeloginflow_example">Example</h4>
<div class="example"><div class="finalizeloginflow-page"><pre class="prettyprint linenums">
NewtonAdapter.finalizeLoginFlow(function(){ console.log('ok'); });
</pre>
</div></div>
</div>
</li>
<li><h3 id="methods_getidentities">getIdentities()</h3>
<div class="getidentities"><div class="getidentities-page"><p>Get identities from current user<br/>
<b>This method is executed after login (waitLogin:true) or after init (false)</b></p>
</div><h5 id="methods_getidentities_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="getidentities-page"><p>promise that will be resolved when the identities has been retrieved for the current user, rejected if failed</p>
</div></td></tr></table><h4 id="methods_getidentities_example">Example</h4>
<div class="example"><div class="getidentities-page"><pre class="prettyprint linenums">
NewtonAdapter.getIdentities();
</pre>
</div></div>
</div>
</li>
<li><h3 id="methods_getusertoken">getUserToken()</h3>
<div class="getusertoken"><div class="getusertoken-page"><p>Get Newton user token
<br><b>Synchronous call, don&#39;t wait init</b></p>
</div><h5 id="methods_getusertoken_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="getusertoken-page"><p>Newton user token or false if init has not been called before</p>
</div></td></tr></table><h4 id="methods_getusertoken_example">Example</h4>
<div class="example"><div class="getusertoken-page"><pre class="prettyprint linenums">
NewtonAdapter.getUserToken();
</pre>
</div></div>
</div>
</li>
<li><h3 id="methods_init">init(options)</h3>
<div class="init"><div class="init-page"><p>Initializes Newton sdk and sets up internal configuration.</p>
</div><h5 id="methods_init_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>options</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="init-page"><p>configuration object</p>
</div><table><thead><tr><th>Property</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>secretId</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="init-page"><p>secret id of the application</p>
</div></td></tr><tr><td>enable</td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="init-page"><p>enable calls to Newton library</p>
</div> <p><em>(default: false)</em></p></td></tr><tr><td>waitLogin</td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="init-page"><p>all Newton calls wait login (logged and unlogged)</p>
</div> <p><em>(default: false)</em></p></td></tr><tr><td>waitDeviceReady</td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="init-page"><p>wait deviceReady event to initialize Newton</p>
</div> <p><em>(default: false)</em></p></td></tr><tr><td>newtonversion</td><td><a href="" class="label type-hint type-hint-integer">integer</a></td><td><div class="init-page"><p>version of Newton (1 or 2)</p>
</div> <p><em>(default: 2)</em></p></td></tr><tr><td>logger</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="init-page"><p>object with debug, log, info, warn, error</p>
</div> <p><em>(default: disabled logger)</em></p></td></tr><tr><td>properties</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="init-page"><p>custom data for Newton session (not supported for v1)</p>
</div> <p><em>(default: {})</em></p></td></tr><tr><td>pushCallback</td><td><a href="" class="label type-hint type-hint-function">Function</a></td><td><div class="init-page"><p>a function that will be called in hybrid init(wait for device ready must be true)</p>
</div> <p><em>(default: null)</em></p></td></tr></tbody></table></td></tr></tbody></table><h5 id="methods_init_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="init-page"><p>promise will be resolved when init is completed, rejected if failed</p>
</div></td></tr></table><h4 id="methods_init_example">Example</h4>
<div class="example"><div class="init-page"><pre class="prettyprint linenums">
NewtonAdapter.init({
    secretId: '123456789',
    enable: true,
    waitLogin: true,
    waitDeviceReady: false,
    newtonversion: 2,
    logger: console,
    properties: {
        hello: 'World'
    },
    pushCallback:function(pushData){}
}).then(function(enabled){
    console.log('init success', enabled);
}).catch(function(err){
    console.log('init failed', err);
});
</pre>
</div></div>
</div>
</li>
<li><h3 id="methods_isinitialized">isInitialized()</h3>
<div class="isinitialized"><div class="isinitialized-page"><p>Check if NewtonAdapter is initialized.
<br><b>Synchronous call, don&#39;t wait init</b></p>
</div><h5 id="methods_isinitialized_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="isinitialized-page"><p>true if init has been called, else false</p>
</div></td></tr></table><h4 id="methods_isinitialized_example">Example</h4>
<div class="example"><div class="isinitialized-page"><pre class="prettyprint linenums">
NewtonAdapter.isInitialized();
</pre>
</div></div>
</div>
</li>
<li><h3 id="methods_isuserlogged">isUserLogged()</h3>
<div class="isuserlogged"><div class="isuserlogged-page"><p>Check if the user is already logged on Newton.
<br><b>Synchronous call, don&#39;t wait init</b></p>
</div><h5 id="methods_isuserlogged_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="isuserlogged-page"><p>true if the user is already logged, false if user is unlogged or init has not been called before</p>
</div></td></tr></table><h4 id="methods_isuserlogged_example">Example</h4>
<div class="example"><div class="isuserlogged-page"><pre class="prettyprint linenums">
NewtonAdapter.isUserLogged();
</pre>
</div></div>
</div>
</li>
<li><h3 id="methods_login">login(options)</h3>
<div class="login"><div class="login-page"><p>Performs Newton login</p>
</div><h5 id="methods_login_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>options</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="login-page"><p>configuration object</p>
</div><table><thead><tr><th>Property</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>logged</td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="login-page"><p>new state of the user</p>
</div> <p><em>(default: false)</em></p></td></tr><tr><td>type</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="login-page"><p>(custom, external, msisdn, autologin, generic or oauth)</p>
</div> <p><em>(default: "custom")</em></p></td></tr><tr><td>userId</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="login-page"><p>required for custom and external login</p>
</div></td></tr><tr><td>userProperties</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="login-page"><p>available only for custom and external login</p>
</div> <p><em>(default: {})</em></p></td></tr><tr><td>pin</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="login-page"><p>required for msisdn login</p>
</div></td></tr><tr><td>msisdn</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="login-page"><p>required for msisdn login</p>
</div></td></tr><tr><td>domain</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="login-page"><p>required for autologin login</p>
</div></td></tr><tr><td>provider</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="login-page"><p>required for oauth login</p>
</div></td></tr><tr><td>access_token</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="login-page"><p>required for oauth login</p>
</div></td></tr><tr><td>username</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="login-page"><p>required for generic login</p>
</div></td></tr><tr><td>password</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="login-page"><p>required for generic login</p>
</div></td></tr></tbody></table></td></tr></tbody></table><h5 id="methods_login_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="login-page"><p>promise will be resolved when login is completed, rejected if failed</p>
</div></td></tr></table><h4 id="methods_login_example">Example</h4>
<div class="example"><div class="login-page"><pre class="prettyprint linenums">
// for logged users
  NewtonAdapter.login({
      logged: true,
      type: 'external',
      userId: '123456789',
      userProperties: {
          msisdn: '+39123456789',
          type: 'freemium'
      }
  }).then(function(){
      console.log('login success');
  }).catch(function(err){
      console.log('login failed', err);
  });

// for unlogged users
NewtonAdapter.login({
      logged: false
});
</pre>
</div></div>
</div>
</li>
<li><h3 id="methods_logout">logout()</h3>
<div class="logout"><div class="logout-page"><p>Performs logout from Newton
<br/><b>This method is executed after init</b></p>
</div><h5 id="methods_logout_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="logout-page"><p>promise will be resolved when logout is completed, rejected if failed</p>
</div></td></tr></table><h4 id="methods_logout_example">Example</h4>
<div class="example"><div class="logout-page"><pre class="prettyprint linenums">
NewtonAdapter.logout().then(function(wasLogged){
    console.log('logout success', wasLogged);
})
</pre>
</div></div>
</div>
</li>
<li><h3 id="methods_rankcontent">rankContent(options)</h3>
<div class="rankcontent"><div class="rankcontent-page"><p>Performs Newton content ranking<br>
<b>This method is executed after login (waitLogin:true) or after init (false)</b>
<br><b>Newton version 1 don&#39;t support this feature</b></p>
</div><h5 id="methods_rankcontent_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>options</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="rankcontent-page"><p>configuration object</p>
</div><table><thead><tr><th>Property</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>contentId</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="rankcontent-page"><p>unique identifier of the content</p>
</div></td></tr><tr><td>scope</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="rankcontent-page"><p>type of action performed on the content</p>
</div></td></tr><tr><td>score</td><td><a href="" class="label type-hint type-hint-number">number</a></td><td><div class="rankcontent-page"><p>the score associated to the content</p>
</div> <p><em>(default: 1)</em></p></td></tr></tbody></table></td></tr></tbody></table><h5 id="methods_rankcontent_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="rankcontent-page"><p>promise will be resolved when ranking is completed, rejected if failed</p>
</div></td></tr></table><h4 id="methods_rankcontent_example">Example</h4>
<div class="example"><div class="rankcontent-page"><pre class="prettyprint linenums">
NewtonAdapter.rankContent({
    contentId: '123456777',
    scope: 'social',
    score: 4
}).then(function(){
    console.log('rankContent success');
}).catch(function(err){
    console.log('rankContent failed', err);
});
</pre>
</div></div>
</div>
</li>
<li><h3 id="methods_recoverpassword">recoverPassword(options)</h3>
<div class="recoverpassword"><div class="recoverpassword-page"><p>Recover password of a user<br></p>
</div><h5 id="methods_recoverpassword_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>options</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="recoverpassword-page"><p>configuration object</p>
</div><table><thead><tr><th>Property</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>msisdn</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="recoverpassword-page"><p>msisdn of the user</p>
</div></td></tr><tr><td>email</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="recoverpassword-page"><p>email of the user</p>
</div></td></tr></tbody></table></td></tr></tbody></table><h5 id="methods_recoverpassword_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="recoverpassword-page"><p>promise will be resolved when recovering is completed, rejected if failed</p>
</div></td></tr></table><h4 id="methods_recoverpassword_example">Example</h4>
<div class="example"><div class="recoverpassword-page"><pre class="prettyprint linenums">
NewtonAdapter.recoverPassword({
    msidsn: '+391234567890'
}).then(function(){
    console.log('recoverPassword success');
}).catch(function(err){
    console.log('recoverPassword failed', err);
});
</pre>
</div></div>
</div>
</li>
<li><h3 id="methods_removeidentity">removeIdentity(options)</h3>
<div class="removeidentity"><div class="removeidentity-page"><p>Remove identity from an user<br>
<b>This method is executed after login (waitLogin:true) or after init (false)</b></p>
</div><h5 id="methods_removeidentity_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>options</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="removeidentity-page"><p>configuration object</p>
</div><table><thead><tr><th>Property</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>type</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="removeidentity-page"><p>type of identity to remove</p>
</div></td></tr><tr><td>identity</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="removeidentity-page"><p>identity instance to remove</p>
</div></td></tr></tbody></table></td></tr></tbody></table><h5 id="methods_removeidentity_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="removeidentity-page"><p>promise will be resolved when removing is completed, rejected if failed</p>
</div></td></tr></table><h4 id="methods_removeidentity_example">Example</h4>
<div class="example"><div class="removeidentity-page"><pre class="prettyprint linenums">
NewtonAdapter.removeIdentity({
    type: 'oauth'
}).then(function(){
    console.log('removeIdentity success');
}).catch(function(err){
    console.log('removeIdentity failed', err);
});
</pre>
</div></div>
</div>
</li>
<li><h3 id="methods_resetpassword">resetPassword(options)</h3>
<div class="resetpassword"><div class="resetpassword-page"><p>Reset password</p>
</div><h5 id="methods_resetpassword_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>options</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="resetpassword-page"><p>configuration object</p>
</div><table><thead><tr><th>Property</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>password</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="resetpassword-page"><p>new password</p>
</div></td></tr><tr><td>token</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="resetpassword-page"><p>access token</p>
</div></td></tr></tbody></table></td></tr></tbody></table><h5 id="methods_resetpassword_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="resetpassword-page"><p>promise will be resolved when password is updated, rejected if failed</p>
</div></td></tr></table><h4 id="methods_resetpassword_example">Example</h4>
<div class="example"><div class="resetpassword-page"><pre class="prettyprint linenums">
NewtonAdapter.resetPassword({
    password: 'NEWPASSWORD',
    token: '1234567890'
}).then(function(){
    console.log('resetPassword success');
}).catch(function(err){
    console.log('resetPassword failed', err);
});
</pre>
</div></div>
</div>
</li>
<li><h3 id="methods_setuserstatechangelistener">setUserStateChangeListener(callback)</h3>
<div class="setuserstatechangelistener"><div class="setuserstatechangelistener-page"><p>Execute callback when user state change
<br><b>Synchronous call, don&#39;t wait init</b></p>
</div><h5 id="methods_setuserstatechangelistener_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>callback</td><td><a href="" class="label type-hint type-hint-function">function</a></td><td><div class="setuserstatechangelistener-page"><p>method called when user state changes</p>
</div></td></tr></tbody></table><h5 id="methods_setuserstatechangelistener_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="setuserstatechangelistener-page"><p>return true if init has been called before, false if init has not been called before or callback is undefined</p>
</div></td></tr></table><h4 id="methods_setuserstatechangelistener_example">Example</h4>
<div class="example"><div class="setuserstatechangelistener-page"><pre class="prettyprint linenums">
NewtonAdapter.setUserStateChangeListener(function(state){ console.log(state); });
</pre>
</div></div>
</div>
</li>
<li><h3 id="methods_startheartbeat">startHeartbeat(options)</h3>
<div class="startheartbeat"><div class="startheartbeat-page"><p>Performs Newton start timed event<br>
<b>This method is executed after login (waitLogin:true) or after init (false)</b></p>
</div><h5 id="methods_startheartbeat_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>options</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="startheartbeat-page"><p>configuration object</p>
</div><table><thead><tr><th>Property</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>name</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="startheartbeat-page"><p>name of the timed event</p>
</div></td></tr><tr><td>properties</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="startheartbeat-page"><p>properties of the timed event</p>
</div> <p><em>(default: {})</em></p></td></tr></tbody></table></td></tr></tbody></table><h5 id="methods_startheartbeat_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="startheartbeat-page"><p>promise will be resolved when start is completed, rejected if failed</p>
</div></td></tr></table><h4 id="methods_startheartbeat_example">Example</h4>
<div class="example"><div class="startheartbeat-page"><pre class="prettyprint linenums">
NewtonAdapter.startHeartbeat({
    name: 'Playing',
    properties: {
        category: 'Game',
        content: 'Fruit Slicer'
    }
}).then(function(){
    console.log('startHeartbeat success');
}).catch(function(err){
    console.log('startHeartbeat failed', err);
});
</pre>
</div></div>
</div>
</li>
<li><h3 id="methods_stopheartbeat">stopHeartbeat(options)</h3>
<div class="stopheartbeat"><div class="stopheartbeat-page"><p>Performs Newton stop timed event<br>
<b>This method is executed after login (waitLogin:true) or after init (false)</b></p>
</div><h5 id="methods_stopheartbeat_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>options</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="stopheartbeat-page"><p>configuration object</p>
</div><table><thead><tr><th>Property</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>name</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="stopheartbeat-page"><p>name of the timed event</p>
</div></td></tr><tr><td>properties</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="stopheartbeat-page"><p>properties of the timed event</p>
</div> <p><em>(default: {})</em></p></td></tr></tbody></table></td></tr></tbody></table><h5 id="methods_stopheartbeat_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="stopheartbeat-page"><p>promise will be resolved when stop is completed, rejected if failed</p>
</div></td></tr></table><h4 id="methods_stopheartbeat_example">Example</h4>
<div class="example"><div class="stopheartbeat-page"><pre class="prettyprint linenums">
NewtonAdapter.stopHeartbeat({
    name: 'Playing',
    properties: {
        category: 'Game',
        content: 'Fruit Slicer'
    }
}).then(function(){
    console.log('stopHeartbeat success');
}).catch(function(err){
    console.log('stopHeartbeat failed', err);
});
</pre>
</div></div>
</div>
</li>
<li><h3 id="methods_trackevent">trackEvent(options)</h3>
<div class="trackevent"><div class="trackevent-page"><p>Performs Newton track event<br>
<b>This method is executed after login (waitLogin:true) or after init (false)</b></p>
</div><h5 id="methods_trackevent_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>options</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="trackevent-page"><p>configuration object</p>
</div><table><thead><tr><th>Property</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>name</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="trackevent-page"><p>name of the event to track</p>
</div></td></tr><tr><td>properties</td><td><a href="" class="label type-hint type-hint-object">object</a></td><td><div class="trackevent-page"><p>custom data of the event</p>
</div> <p><em>(default: {})</em></p></td></tr><tr><td>rank</td><td><a href="" class="label type-hint type-hint-object">object</a></td><td><div class="trackevent-page"><p>rank content data</p>
</div> <p><em>(default: {})</em></p></td></tr></tbody></table></td></tr></tbody></table><h5 id="methods_trackevent_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="trackevent-page"><p>promise will be resolved when tracking is completed, rejected if failed</p>
</div></td></tr></table><h4 id="methods_trackevent_example">Example</h4>
<div class="example"><div class="trackevent-page"><pre class="prettyprint linenums">
NewtonAdapter.trackEvent({
    name: 'Play',
    properties: {
        category: 'Game',
        content: 'Fruit Slicer'
    },
    rank: {
        contentId: '123456777',
        scope: 'social',
        score: 4
    }
}).then(function(){
    console.log('trackEvent success');
}).catch(function(err){
    console.log('trackEvent failed', err);
});
</pre>
</div></div>
</div>
</li>
<li><h3 id="methods_trackpageview">trackPageview(options)</h3>
<div class="trackpageview"><div class="trackpageview-page"><p>Performs Newton pageview tracking<br>
<b>This method is executed after login (waitLogin:true) or after init (false)</b></p>
</div><h5 id="methods_trackpageview_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>options</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="trackpageview-page"><p>configuration object</p>
</div><table><thead><tr><th>Property</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>properties</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="trackpageview-page"><p>properties of the pageview</p>
</div></td></tr><tr><td>properties.url</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="trackpageview-page"><p>url of pageview</p>
</div> <p><em>(default: window.location.href)</em></p></td></tr></tbody></table></td></tr></tbody></table><h5 id="methods_trackpageview_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="trackpageview-page"><p>promise will be resolved when tracking is completed, rejected if failed</p>
</div></td></tr></table><h4 id="methods_trackpageview_example">Example</h4>
<div class="example"><div class="trackpageview-page"><pre class="prettyprint linenums">
NewtonAdapter.trackPageview({
    properties: {
        url: 'http://www.google.it',
        title: 'Game',
        hello: 'World'
    }
}).then(function(){
    console.log('trackPageview success');
}).catch(function(err){
    console.log('trackPageview failed', err);
});
</pre>
</div></div>
</div>
</li>
<li><h3 id="methods_userdelete">userDelete()</h3>
<div class="userdelete"><div class="userdelete-page"><p>Delete an user<br>
<b>This method is executed after login (waitLogin:true) or after init (false)</b></p>
</div><h5 id="methods_userdelete_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="userdelete-page"><p>ppromise will be resolved when deleting is completed, rejected if failed</p>
</div></td></tr></table><h4 id="methods_userdelete_example">Example</h4>
<div class="example"><div class="userdelete-page"><pre class="prettyprint linenums">
NewtonAdapter.userDelete().then(function(){
    console.log('userDelete success');
}).catch(function(err){
    console.log('userDelete failed', err);
});
</pre>
</div></div>
</div>
</li>
</ul>
</div>
</div>
